(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[8],{109:function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return u})),n.d(t,"e",(function(){return o})),n.d(t,"f",(function(){return l})),n.d(t,"a",(function(){return j})),n.d(t,"b",(function(){return b}));var c=n(119),r=n.n(c),s="https://vilkkoni-server.herokuapp.com/events",a="https://vilkkoni-server.herokuapp.com/validate",i=function(){return r.a.get(s)},u=function(){return r.a.get("".concat(s,"/old"))},o=function(e,t){return r.a.post("".concat(s,"/").concat(e,"/eventsignup"),t)},l=function(e){return r.a.post("".concat("https://vilkkoni-server.herokuapp.com/sub","/subscribe"),e)},j=function(e,t){return r.a.post("".concat(a,"/signup/").concat(e),{key:t})},b=function(e,t){return r.a.post("".concat(a,"/unsub/").concat(e))}},223:function(e,t,n){"use strict";n.r(t);var c=n(91),r=n(0),s=n(37),a=n(80),i=n(203),u=n(83),o=n(194),l=n(84),j=n(5),b=n(117),d=n.n(b),h=n(118),p=n(109),f=n(4),O=function(){var e=Object(r.useState)(!0),t=Object(c.a)(e,2),n=t[0],b=t[1],O=Object(r.useState)(!1),x=Object(c.a)(O,2),v=x[0],m=x[1],g=Object(r.useState)(""),y=Object(c.a)(g,2),k=y[0],S=y[1],w=Object(s.b)(),A=Object(j.g)(),C=Object(j.h)().id;Object(r.useEffect)((function(){var e=new URLSearchParams(A.search).get("token");C&&e&&w(function(e,t,n){return function(){var c=Object(h.a)(d.a.mark((function c(r){var s;return d.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,c.next=3,p.a(e,t);case 3:s=c.sent,n(s),c.next=10;break;case 7:c.prev=7,c.t0=c.catch(0),c.t0.response?n({status:c.t0.response.status,data:c.t0.response.data}):c.t0.request&&n({status:400,data:{message:"Invalid request, this probably was not your link"}});case 10:case"end":return c.stop()}}),c,null,[[0,7]])})));return function(e){return c.apply(this,arguments)}}()}(C,e,E))}),[C,w,A.search]);var E=function(e){b(!1),S(e.data.message),200===e.status&&m(!0)};return Object(f.jsx)(a.a,{style:{display:"flex",justifyContent:"center",height:"90vh"},children:Object(f.jsxs)("div",{style:{alignSelf:"center",maxWidth:"50%"},children:[Object(f.jsx)(i.a,{in:n,children:Object(f.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:Object(f.jsx)(u.a,{style:{alignSelf:"center"}})})}),Object(f.jsx)(i.a,{in:!n,children:Object(f.jsx)(o.a,{children:v?Object(f.jsxs)("div",{children:[Object(f.jsx)(l.a,{style:{margin:"2rem 3rem 0",textAlign:"center"},children:"SUCCESS"}),Object(f.jsx)(l.a,{style:{margin:"2rem",textAlign:"center"},children:"Thank you for confirming your participation"})]}):Object(f.jsxs)("div",{children:[Object(f.jsx)(l.a,{style:{margin:"2rem 3rem 0",textAlign:"center"},children:"FAILURE"}),Object(f.jsx)(l.a,{style:{margin:"2rem",textAlign:"center"},children:k})]})})})]})})},x=function(){var e=Object(r.useState)(!0),t=Object(c.a)(e,2),n=t[0],b=t[1],O=Object(r.useState)(!1),x=Object(c.a)(O,2),v=x[0],m=x[1],g=Object(r.useState)(""),y=Object(c.a)(g,2),k=y[0],S=y[1],w=Object(s.b)(),A=Object(j.h)().token;Object(r.useEffect)((function(){A&&w(function(e,t){return function(){var n=Object(h.a)(d.a.mark((function n(c){var r;return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,p.b(e);case 3:r=n.sent,t(r),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),n.t0.response?t({status:n.t0.response.status,data:n.t0.response.data}):n.t0.request&&t({status:400,data:{message:"Invalid request, this probably was not your link"}});case 10:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(e){return n.apply(this,arguments)}}()}(A,C))}),[A,w]);var C=function(e){b(!1),S(e.data.message),200===e.status&&m(!0)};return Object(f.jsx)(a.a,{style:{display:"flex",justifyContent:"center",height:"90vh"},children:Object(f.jsxs)("div",{style:{alignSelf:"center",maxWidth:"50%"},children:[Object(f.jsx)(i.a,{in:n,children:Object(f.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:Object(f.jsx)(u.a,{style:{alignSelf:"center"}})})}),Object(f.jsx)(i.a,{in:!n,children:Object(f.jsx)(o.a,{children:v?Object(f.jsxs)("div",{children:[Object(f.jsx)(l.a,{style:{margin:"2rem 3rem 0",textAlign:"center"},children:"SUCCESS"}),Object(f.jsx)(l.a,{style:{margin:"2rem",textAlign:"center"},children:"You are now unsubscribed and will no longer receive newsletter emails."})]}):Object(f.jsxs)("div",{children:[Object(f.jsx)(l.a,{style:{margin:"2rem 3rem 0",textAlign:"center"},children:"FAILURE"}),Object(f.jsx)(l.a,{style:{margin:"2rem",textAlign:"center"},children:k})]})})})]})})};t.default=function(){var e=Object(j.i)().path;return Object(f.jsxs)(j.c,{children:[Object(f.jsx)(j.a,{path:"".concat(e,"/signup/:id"),component:O}),Object(f.jsx)(j.a,{path:"".concat(e,"/unsubscribe/:token"),component:x})]})}}}]);
//# sourceMappingURL=8.2dcc68bc.chunk.js.map